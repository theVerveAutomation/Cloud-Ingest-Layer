# MediaMTX Configuration - v1.15.6 Production Optimized

# General
logLevel: info

authMethod: internal
authInternalUsers:
  - user: any
    pass: 
    ips: [] 
    permissions:
      - action: api
      - action: read
      - action: publish
      - action: playback
      - action: metrics
      - action: pprof

# API - Moved to 9997 to avoid conflict with HLS
api: yes
apiAddress: :9997

# RTSP - Internal routing for analytics [cite: 59, 120]
rtsp: yes
rtspAddress: :8554
# Use updated key to resolve WAR message
rtspTransports: [tcp, udp]

# RTMP - Ingestion from legacy edge devices [cite: 32, 102]
rtmp: yes
rtmpAddress: :1935

# HLS - Web Playback (defaults to 8888) [cite: 34]
hls: yes
hlsAddress: :8888

# WebRTC - SaaS/Low Latency Playback [cite: 31, 98]
webrtc: yes
webrtcAddress: :8889
# Use updated key to resolve WAR message
webrtcICEServers2: 
  - url: stun:stun.l.google.com:19302

webrtcAdditionalHosts: ["127.0.0.1", "13.212.97.238"]

paths: 
  all:
    source: publisher
